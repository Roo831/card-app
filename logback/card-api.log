2025-04-13 05:52:38.205 [main] INFO  com.poptsov.start.CardApplication - Starting CardApplication using Java 17.0.12 with PID 9548 (C:\Users\ttt\IdeaProjects\card-app\start\target\classes started by ttt in C:\Users\ttt\IdeaProjects\card-app)
2025-04-13 05:52:38.206 [main] DEBUG com.poptsov.start.CardApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-13 05:52:38.207 [main] INFO  com.poptsov.start.CardApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-13 05:52:39.431 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 05:52:39.497 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2025-04-13 05:52:40.664 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-13 05:52:40.680 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 05:52:40.680 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-13 05:52:40.759 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 05:52:40.759 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2489 ms
2025-04-13 05:52:40.878 [main] DEBUG c.poptsov.auth.filter.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-13 05:52:41.007 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-13 05:52:41.194 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30ffb2a6
2025-04-13 05:52:41.196 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-13 05:52:41.410 [main] INFO  liquibase.database - Set default schema name to public
2025-04-13 05:52:41.710 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-04-13 05:52:41.769 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-04-13 05:52:41.773 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-04-13 05:52:41.785 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-04-13 05:52:41.786 [main] INFO  liquibase.util - Run:                          0
2025-04-13 05:52:41.786 [main] INFO  liquibase.util - Previously run:               1
2025-04-13 05:52:41.786 [main] INFO  liquibase.util - Filtered out:                 0
2025-04-13 05:52:41.786 [main] INFO  liquibase.util - -------------------------------
2025-04-13 05:52:41.786 [main] INFO  liquibase.util - Total change sets:            1
2025-04-13 05:52:41.787 [main] INFO  liquibase.util - Update summary generated
2025-04-13 05:52:41.789 [main] INFO  liquibase.command - Command execution complete
2025-04-13 05:52:42.250 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 05:52:42.317 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-13 05:52:42.359 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-13 05:52:42.689 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 05:52:42.755 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 05:52:42.777 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 05:52:43.910 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 05:52:43.952 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 05:52:44.321 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-13 05:52:44.321 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-13 05:52:44.378 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-13 05:52:45.301 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 05:52:46.168 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-13 05:52:46.180 [main] INFO  com.poptsov.start.CardApplication - Started CardApplication in 8.559 seconds (process running for 10.201)
2025-04-13 05:53:25.903 [http-nio-0.0.0.0-8081-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13 05:53:25.903 [http-nio-0.0.0.0-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-13 05:53:25.905 [http-nio-0.0.0.0-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-13 05:53:26.111 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.p.auth.service.UserServiceImpl - Loading user by email: user@mail.com
2025-04-13 05:53:26.220 [http-nio-0.0.0.0-8081-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at from users u1_0 where u1_0.email=?
2025-04-13 05:53:26.261 [http-nio-0.0.0.0-8081-exec-1] DEBUG com.poptsov.auth.service.JwtService - Validating token for user: user@mail.com
2025-04-13 05:53:26.318 [http-nio-0.0.0.0-8081-exec-1] DEBUG org.hibernate.SQL - select c1_0.id from cards c1_0 left join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=? and u1_0.id=? fetch first ? rows only
2025-04-13 05:53:26.331 [http-nio-0.0.0.0-8081-exec-1] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.created_at,t1_0.description,t1_0.source_card_id,t1_0.status,t1_0.target_card_id,t1_0.type from transactions t1_0 left join cards sc1_0 on sc1_0.id=t1_0.source_card_id where sc1_0.id=? fetch first ? rows only
2025-04-13 05:53:26.341 [http-nio-0.0.0.0-8081-exec-1] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.balance,c1_0.card_number_encrypted,c1_0.card_number_masked,c1_0.expiration_date,c1_0.holder_name,c1_0.status,c1_0.user_id,u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at from cards c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-04-13 05:53:26.344 [http-nio-0.0.0.0-8081-exec-1] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.balance,c1_0.card_number_encrypted,c1_0.card_number_masked,c1_0.expiration_date,c1_0.holder_name,c1_0.status,c1_0.user_id,u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at from cards c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-04-13 06:04:55.904 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-13 06:04:55.949 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-13 06:04:55.954 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 06:04:55.956 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-13 06:04:55.963 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-13 06:05:33.517 [main] INFO  com.poptsov.start.CardApplication - Starting CardApplication using Java 17.0.12 with PID 21888 (C:\Users\ttt\IdeaProjects\card-app\start\target\classes started by ttt in C:\Users\ttt\IdeaProjects\card-app)
2025-04-13 06:05:33.519 [main] DEBUG com.poptsov.start.CardApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-13 06:05:33.521 [main] INFO  com.poptsov.start.CardApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-13 06:05:34.989 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13 06:05:35.067 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 4 JPA repository interfaces.
2025-04-13 06:05:36.475 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-04-13 06:05:36.491 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-13 06:05:36.492 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-13 06:05:36.571 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-13 06:05:36.571 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2980 ms
2025-04-13 06:05:36.669 [main] DEBUG c.poptsov.auth.filter.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-04-13 06:05:36.789 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-13 06:05:36.969 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ac0a14b
2025-04-13 06:05:36.970 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-13 06:05:37.208 [main] INFO  liquibase.database - Set default schema name to public
2025-04-13 06:05:38.259 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-04-13 06:05:38.359 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-04-13 06:05:38.377 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - Run:                          0
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - Previously run:               1
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - Filtered out:                 0
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - -------------------------------
2025-04-13 06:05:38.416 [main] INFO  liquibase.util - Total change sets:            1
2025-04-13 06:05:38.427 [main] INFO  liquibase.util - Update summary generated
2025-04-13 06:05:38.429 [main] INFO  liquibase.command - Command execution complete
2025-04-13 06:05:39.214 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13 06:05:39.379 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-13 06:05:39.491 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-13 06:05:39.957 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13 06:05:40.016 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13 06:05:40.037 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13 06:05:41.571 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13 06:05:41.641 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13 06:05:42.423 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-13 06:05:42.424 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-13 06:05:42.498 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-13 06:05:43.637 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13 06:05:45.256 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-04-13 06:05:45.268 [main] INFO  com.poptsov.start.CardApplication - Started CardApplication in 12.744 seconds (process running for 14.934)
